<header class="side-nav-header">
  <h1>
    <a class="home-link" href="{{ site.baseurl }}/">{{ site.subtitle }}</a>
    <button type="button" class="open-nav" id="open-nav"></button>
  </h1>

  <form action="{{ site.baseurl }}/search/" method="get">
    <input type="text" name="q" id="search-input" placeholder="Search for an item">
    <input type="submit" value="Search" style="display: none;">
  </form>

  <nav {% if site.show_full_navigation %}class="full-navigation"{% endif %}>
    <ul>
      <li class="nav-item top-level {% if page.url == '/' %}current{% endif %}">
        {% assign home = site.html_pages | where: 'url', '/' | first %}
        <a href="{{ site.baseurl }}/">{{ home.title }}</a>
      </li>
    </ul>
    <ul>
      {% assign grouped = site.components | group_by: 'category' %}
      {% for group in grouped %}
        <li class="nav-item top-level {% if group.name == page.category %}current{% endif %}">
          {% assign items = group.items | sort: 'order' %}
          <span>{{ group.name }}</span>
          <ul class="side-sub">
            {% for item in items %}
              <li class="nav-item {% if item.url == page.url %}current{% endif %}"><a href="{{ site.baseurl }}{{ item.url }}">- {{ item.title }}</a></li>
            {% endfor %}
          </ul>
        </li>
      {% endfor %}
    </ul>
    <ul>
      <li class="nav-item top-level {% if page.url == '/changelog/' %}current{% endif %}">
        {% assign changelog = site.html_pages | where: 'url', '/changelog/' | first %}
        <a href="{{ site.baseurl }}/changelog/">{{ changelog.title }}</a>
      </li>
    </ul>
  </nav>
</header>